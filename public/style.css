/* public/style.css (VERSÃO FINAL E COMPLETA) */
:root {
    --azul-principal: #00B4D8;
    --azul-claro: #90E0EF;
    --fundo-escuro: #0B132B;
    --fundo-container: #1C2541;
    --fundo-celula: #0f172a;
    --texto-principal: #e2e8f0;
    --texto-secundario: #94a3b8;
    --texto-escuro: #0B132B;
    --borda: #3A506B;
    --sucesso: #80ED99;
    --alerta: #FFD60A;
    --erro: #F72585;
}

* { box-sizing: border-box; }

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background-color: var(--fundo-escuro);
    color: var(--texto-principal);
    margin: 0;
    overflow-x: hidden;
}

/* --- SEÇÃO DE AUTENTICAÇÃO (CORRIGIDA) --- */
#auth-container {
    display: none;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 1rem;
}
#auth-container.active {
    display: flex;
}
.auth-form-wrapper {
    background-color: var(--fundo-container);
    padding: 2.5rem 2rem;
    border-radius: 8px;
    width: 100%;
    max-width: 400px;
    border: 1px solid var(--borda);
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}
.auth-form {
    display: none;
    flex-direction: column;
}
.auth-form.active {
    display: flex;
}
.auth-form h2 {
    color: var(--azul-principal);
    text-align: center;
    margin-top: 0;
    margin-bottom: 1.5rem;
}
.auth-form input {
    background: var(--fundo-escuro);
    border: 1px solid var(--borda);
    color: var(--texto-principal);
    padding: 12px;
    margin-bottom: 1rem;
    border-radius: 4px;
    font-size: 1rem;
}
.auth-form input:focus {
    outline: none;
    border-color: var(--azul-principal);
}
.auth-form button {
    background-color: var(--azul-principal);
    color: var(--texto-escuro);
    border: none;
    padding: 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: opacity 0.2s;
}
.auth-form button:hover { opacity: 0.9; }
.auth-form p {
    text-align: center;
    font-size: 0.9rem;
    margin-top: 1rem;
    color: var(--texto-secundario);
}
.auth-form a {
    color: var(--azul-claro);
    text-decoration: none;
    cursor: pointer;
    font-weight: 500;
}


/* --- ESTRUTURA PRINCIPAL DA APLICAÇÃO --- */
.app-layout {
    display: grid;
    grid-template-columns: 280px 1fr;
    height: 100vh;
    width: 100%;
    display: none;
}
#app-container.active { display: grid; }

/* --- SIDEBAR --- */
.sidebar {
    background-color: var(--fundo-container);
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    border-right: 1px solid var(--borda);
    overflow-y: auto;
}
.sidebar-header h2 { margin: 0; color: var(--azul-principal); }
.sidebar-header p { margin: 0; color: var(--texto-secundario); font-size: 0.9rem; }
.sidebar-section h4 { margin-top: 0; margin-bottom: 0.8rem; border-bottom: 1px solid var(--borda); padding-bottom: 0.5rem; }
.sidebar input[type="text"], .sidebar input[type="date"] { width: 100%; padding: 10px; margin-bottom: 10px; background: var(--fundo-escuro); border: 1px solid var(--borda); color: var(--texto-principal); border-radius: 4px; }
.sidebar button { width: 100%; padding: 10px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; transition: opacity 0.2s; }
.sidebar button:hover { opacity: 0.85; }
#quick-save-btn, #new-event-btn { background-color: var(--azul-principal); color: var(--texto-escuro); }
.color-palette { display: flex; gap: 8px; }
.color-box { width: 30px; height: 30px; border-radius: 50%; cursor: pointer; border: 3px solid transparent; transition: border-color 0.2s; }
.color-box.selected { border-color: var(--azul-claro); }
.user-info { margin-top: auto; padding-top: 1rem; border-top: 1px solid var(--borda); color: var(--texto-secundario); }
#logout-btn { background: transparent; border: 1px solid var(--erro); color: var(--erro); margin-top: 10px; }

/* --- CONTEÚDO PRINCIPAL --- */
.main-content { padding: 2rem; overflow-y: auto; }
#calendar-controls { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; }
#calendar-controls h2 { margin: 0; text-align: center; flex-grow: 1; }
#calendar-controls button { background: var(--fundo-container); border: 1px solid var(--borda); color: var(--texto-principal); padding: 8px 16px; border-radius: 4px; cursor: pointer; transition: background-color 0.2s; }
#calendar-controls button:hover { background-color: var(--borda); }

/* --- CALENDÁRIO GRID --- */
#calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; }
.day-name { text-align: center; font-weight: bold; color: var(--texto-secundario); padding-bottom: 0.5rem; }
.day { background-color: var(--fundo-celula); min-height: 120px; padding: 8px; border-radius: 4px; cursor: pointer; transition: background-color 0.2s; display: flex; flex-direction: column; gap: 4px; overflow: hidden; }
.day:hover { background-color: var(--fundo-container); }
.day-number { font-weight: bold; }
.day.today .day-number { background-color: var(--azul-principal); color: var(--texto-escuro); border-radius: 50%; width: 28px; height: 28px; display: flex; justify-content: center; align-items: center; }
.day.other-month { opacity: 0.4; cursor: default; }
.event { padding: 4px 6px; border-radius: 4px; font-size: 0.8rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-weight: 500; }

/* --- SEÇÃO INFERIOR --- */
.bottom-section { display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; margin-top: 2rem; }
#all-events-container, #stats-container { background-color: var(--fundo-container); padding: 1.5rem; border-radius: 8px; }
h3 { margin-top: 0; color: var(--azul-claro); }
#event-list { max-height: 300px; overflow-y: auto; }
.event-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--borda); }
.event-item:last-child { border-bottom: none; }
.event-info strong { display: block; }
.event-info span { font-size: 0.8rem; color: var(--texto-secundario); }
.delete-event-btn { background-color: var(--erro); color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; }
#stats-content p { margin: 0.5rem 0; font-size: 1.1rem; }

/* --- RESPONSIVIDADE --- */
@media (max-width: 1024px) {
    .app-layout { grid-template-columns: 1fr; height: auto; }
    .sidebar { border-right: none; border-bottom: 1px solid var(--borda); }
    .main-content { padding: 1.5rem; }
    .bottom-section { grid-template-columns: 1fr; }
}
@media (max-width: 480px) {
    .main-content { padding: 1rem; }
    #calendar-controls h2 { font-size: 1.2rem; }
    #calendar-controls button { padding: 6px 10px; }
    .day { min-height: 80px; }
    .event { display: none; }
    .day.has-events { position: relative; }
    .day.has-events::after { content: ''; position: absolute; bottom: 8px; right: 8px; width: 8px; height: 8px; border-radius: 50%; background-color: var(--azul-principal); border: 1px solid var(--fundo-celula); }
}

/* --- MODAL --- */
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); justify-content: center; align-items: center; }
.modal.active { display: flex; }
.modal-content { background-color: var(--fundo-container); padding: 2rem; border-radius: 8px; width: 90%; max-width: 500px; position: relative; border: 1px solid var(--borda); }
.modal-content input, .modal-content textarea, .modal-content button { width: 100%; margin-bottom: 1rem; box-sizing: border-box; }
.modal-content input, .modal-content textarea { background: var(--fundo-escuro); border: 1px solid var(--borda); color: var(--texto-principal); padding: 10px; border-radius: 4px; }
.modal-content button { background-color: var(--azul-principal); color: var(--texto-escuro); border: none; padding: 12px; font-weight: bold; cursor: pointer; }
.close-btn { position: absolute; top: 15px; right: 20px; font-size: 28px; color: var(--texto-secundario); cursor: pointer; }